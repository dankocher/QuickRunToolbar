<idea-plugin>
    <id>com.dilongdann.quickrun</id>
    <name>QuickRun</name>
    <vendor email="" url="">Quick Run Toolbar</vendor>
    <description>
        Shows pinned Run Configurations as buttons on the main toolbar.
    </description>

    <depends>com.intellij.modules.platform</depends>

    <!-- Quita el ToolWindow -->
    <!--
    <extensions defaultExtensionNs="com.intellij">
      <toolWindow id="Run Pins" factoryClass="com.dilongdann.quickrun.toolbar.QuickRunToolWindowFactory" anchor="top" icon="AllIcons.Actions.Execute" canCloseContent="false" />
    </extensions>
    -->

    <!-- Agrega acciones al Main Toolbar -->
    <actions>
        <!-- Grupo dinámico que vive directamente en el toolbar (no popup) -->
        <group
                id="com.dilongdann.quickrun.toolbar.QuickRunGroup"
                class="com.dilongdann.quickrun.toolbar.QuickRunActionGroup"
                text="Quick Run Toolbar"
                popup="false">
            <!-- New UI -->
            <add-to-group group-id="MainToolbarRight" anchor="first"/>
            <!-- Old UI (fallback) -->
            <add-to-group group-id="MainToolbar" anchor="last"/>
        </group>

        <!-- Acción de edición accesible desde el menú Tools -->
        <action
                id="com.dilongdann.quickrun.toolbar.EditAction"
                class="com.dilongdann.quickrun.toolbar.QuickRunEditAction"
                text="Quick Run: Edit Buttons"
                description="Edit Quick Run Toolbar buttons">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>